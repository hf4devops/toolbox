---

# TODO: Get direct link dynamically. Curl throws only JavaScript

- name: Create Pycharm folder
  file:
    path: "{{ user.home_path }}/pycharm"
    state: directory

- name: Fetch Pycharm 2018.1.4 from direct link
  get_url:
    url: https://download.jetbrains.com/python/pycharm-professional-2018.3.2.tar.gz
    dest: "{{ user.home_path }}/pycharm/pycharm-professional.tar.gz"
    mode: "0775"

- name: Unarchive Pycharm
  unarchive:
    src: "{{ user.home_path }}/pycharm/pycharm-professional.tar.gz"
    dest: "{{ user.home_path }}/pycharm/"

- name: Clean up Pycharm folder
  file:
    path: "{{ user.home_path }}/pycharm/pycharm-professional.tar.gz"
    state: absent
